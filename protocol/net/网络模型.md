# OSI模型  
开放系统互连参考模型  
|层	|关键协议 |描述
|:-------|:--------:|:-------|
|应用层	|HTTP、FTP、SMTP、DNS、Telnet、NFS、TFTP、SNMP、DHCP、POP、IMAP、IRC、SSH、TLS、RTSP|直接为用户的应用程序提供网络服务接口
|表示层	|JPEG、MPEG、MPEG-2、MPEG-4、GIF、PNG、TIFF、XML、SGML、HTML、CSS、JavaScript、Flash、PDF、RTF、XHTML、XSL|功能：负责数据的转换与表示，确保发送方应用层发出的信息能被接收方应用层理解。主要处理数据格式、加密解密、压缩解压缩。例子：将UTF-8编码转为GBK编码；将数据用SSL/TLS加密；将JPEG图片压缩。
|会话层 |NetBIOS会话、RPC（远程过程调用） |负责建立、管理和终止两个通信主机之间的会话。它控制对话是全双工、半双工还是单工，并提供会话同步（设置检查点，便于中断恢复）。功能在现代协议栈（如TCP/IP）中很大程度上被传输层和应用层融合实现了。  
|传输层 |TCP、UDP |负责向两台计算机之间提供可靠、无差错的数据传输。功能：建立、维护、终止连接，提供可靠的字节流服务，包括数据流的同步、错误控制、流量控制、拥塞控制。  
|网络层 |IP（IPv4/IPv6）、ICMP（ping命令）|负责将分组从源点传输到目的地。功能：路由选择、数据包分组、地址寻址、数据报处理、流量控制、差错控制、安全性、QoS、流量。   **路由器**
|数据链路层 |LLC（逻辑链路控制）、MAC（媒体访问控制，如CSMA/CD） |负责在同一**局域网**内，通过物理地址在相邻节点之间进行可靠的数据帧传输。它将网络层下来的包封装成帧，并在物理介质上传输。   **交换机**
|物理层 |RJ-45 | 定义物理介质的电气、机械、功能和规程特性，负责在物理媒介上透明地传输比特流（0和1）。    
```c
Q： OSI模型和TCP/IP模型的区别？
A： TCP/IP更简洁，将OSI的上三层合并为应用层，将数据链路层和物理层合并为网络接口层。它是一个源于实践的协议栈，而OSI是先于实践的理论模型。

Q： 为什么需要分层？
A： 解耦、易于设计和维护、标准化、便于故障隔离（例如，更换网卡不影响你的微信聊天）。

Q： 请描述数据封装和解封装的过程。
A： 发送端：数据 → 段 → 包 → 帧 → 比特流。接收端则反向过程，逐层剥离头部，最终将数据交给应用程序。
```




# TCP/IP模型  
互联网协议族  
|层	|关键协议 |描述
|:-------|:--------:|:-------|
|应用层 |Web： HTTP/HTTPS 邮件：SMTP, POP3, IMAP 文件传输： FTP 域名解析： DNS 远程管理： SSH, Telnet |对应OSI的应用层、表示层、会话层。它直接为应用程序提供网络服务，包含了所有高层协议。这意味着在TCP/IP看来，数据的编码、加密、会话管理等都是应用程序自己的事情。
|传输层 |TCP、UDP |对应OSI的传输层、网络层。TCP是面向连接的，UDP是无连接的。TCP： 可靠的、面向连接的、基于字节流的协议。提供流量控制、拥塞控制、超时重传等机制。用于网页浏览（HTTP）、邮件（SMTP）、文件传输（FTP）等。UDP： 不可靠的、无连接的、基于数据报的协议。开销小，延迟低。用于DNS查询、视频流、VoIP、在线游戏等。
|网络互联层 |IP、ICMP |对应OSI的网络层。IP： 负责寻址和路由选择。ICMP： 负责错误报告和控制。用于网络诊断、网络监控、路由选择等。
|网络接口层 | | 对应OSI的数据链路层和物理层。负责在同一个本地网络内，通过物理连接在相邻设备之间传输数据。帧： 将网络层的IP包封装成适合特定物理网络（如以太网、Wi-Fi）传输的帧。MAC地址： 网卡的唯一物理地址（如00:1A:2B:3C:4D:5E），用于在局域网内定位设备。ARP协议： 用于将IP地址解析为对应的MAC地址。


```c
Q： 为什么TCP/IP能战胜OSI成为主流？
A： 1. 先发优势与开放性：TCP/IP随UNIX系统免费发布，而OSI标准复杂且收费。2. 设计更实用：TCP/IP更简单灵活，适应性强。3. 互联网的成功：作为互联网的基石，其地位无可撼动。

Q： 数据在TCP/IP模型中是如何传输的？
A： 发送时封装：应用数据 ->（加TCP/UDP头）-> 段 ->（加IP头）-> 包 ->（加帧头帧尾）-> 帧 ->（转为比特流）。接收时解封装，过程相反。

Q： 什么是端到端，什么是点到点？
A： 传输层（TCP/UDP）是端到端的，关心的是两个最终进程之间的通信。网络层（IP）和数据链路层是点到点的，关心的是数据在每一跳设备（路由器、交换机）之间的传输。
```